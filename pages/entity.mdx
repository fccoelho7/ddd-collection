# Entity

An entity is an object or concept that is distinguishable and has a distinct identity. Entities are a fundamental concept in Domain-Driven Design (DDD) and are used to represent core domain objects within an application. Here are some key characteristics and explanations of what an entity is:

1. **Identity**: An entity is defined by a unique identity that distinguishes it from other objects or entities. This identity is typically represented by an identifier, such as a unique key, a combination of attributes, or a UUID. This identity is used to track and reference the entity throughout its lifecycle.

2. **Immutable**: In most DDD implementations, entities are considered immutable once they are created. This means that the entity's identity, once established, should not change. However, the state of the entity (the values of its attributes) can change over time.

3. **Behavior**: Entities can have behavior associated with them. They can perform actions and have methods that encapsulate the rules and logic specific to that entity. For example, a `User` entity may have methods for changing passwords, updating profile information, or performing actions related to user interactions.

4. **Lifespan**: Entities have a lifespan, which means they exist and evolve over time. They are typically created, modified, and eventually deleted or deactivated. The entity's identity is crucial for tracking and managing its lifecycle.

5. **Relationships**: Entities can have relationships with other entities. For example, in a social media application, a `User` entity may have a relationship with a `Post` entity, indicating that the user created the post. These relationships help model complex domain scenarios.

6. **Persistence**: Entities often correspond to database records or document entries, and they are typically persisted in a data store. The entity's identity is used to map it to a unique record in the data store.

7. **Aggregates**: In DDD, entities are often organized into aggregates. An aggregate is a cluster of related entities and value objects (another DDD concept) that are treated as a single unit for data changes. Aggregates help maintain data consistency and encapsulate the rules that apply to a specific part of the domain.

Entities are an important building block of DDD and are used to model the core business concepts in a way that reflects the real-world domain. They help developers and domain experts communicate more effectively and provide a clear structure for designing and implementing complex software systems.

## Example

```ts copy
class BaseEntity<T> {
  private _id: T;

  constructor(id: T) {
    this._id = id;
  }

  get id(): T {
    return this._id;
  }
}

interface User {
  name: string;
  email: string;
}

class User extends BaseEntity<User> {
  private _name: string;
  private _email: Email;

  constructor(id: string, name: string, email: Email) {
    super(id);
    this._name = name;
    this._email = email;
  }

  get name(): string {
    return this._name;
  }

  set name(name: string) {
    this._name = name;
  }

  get email(): Email {
    return this._email;
  }

  set email(email: Email) {
    this._email = email;
  }

  // You can add more methods and behavior specific to the User entity.
}

// Example usage:
const user = new User("1", "John Doe", "john@example.com");
console.log(`User ID: ${user.id}`);
console.log(`User Name: ${user.name}`);
console.log(`User Email: ${user.email}`);
```
